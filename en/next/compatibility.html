<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="docsearch:version" content="next" />
  <meta name="docsearch:language" content="en" />
  
    <title>Compatibility &#8212; pyinfra  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b20cc3f5" />
    <link rel="stylesheet" type="text/css" href="_static/guzzle.css?v=df830e76" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/logo_small.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Performance" href="performance.html" />
    <link rel="prev" title="Contributing" href="contributing.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="performance.html" title="Performance"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Home</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Compatibility</a></li> 
      </ul>
    </div>
  <div class="container-wrapper">
    <header>
      <nav>
        <a target="_blank" href="https://pyinfra.com">pyinfra.com<span class="glyphicon glyphicon glyphicon-share" aria-hidden="true"></span></a>
        <a target="_blank" href="https://github.com/Fizzadar/pyinfra">GitHub<span class="glyphicon glyphicon glyphicon-share" aria-hidden="true"></span></a>
      </nav>

      <div id="header-sidebar">
        <a href="index.html" class="text-logo">
            <img src="_static/logo_small.png" />
            pyinfra <small>next</small>
        </a>
        
<form id="main-search" class="form-inline" action="search.html" method="GET" role="form">
  <div id="docsearch">
    <input id="search-input" name="q" type="text" class="form-control" placeholder="Search...">
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </div>
</form>
      </div>

      <div id="mobile-toggle">
        <a id="toggle-menu" href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
        <a href="index.html" class="text-logo">
            <img src="_static/logo_small.png" />
        </a>
      </div>
    </header>
    <div id="left-column">
      <div class="sphinxsidebar">
        <div class="sidebar-block">
    <div class="sidebar-toc">
        <p class="caption" role="heading"><span class="caption-text">Using pyinfra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-operations.html">Using Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory-data.html">Inventory &amp; Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="arguments.html">Global Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Using the CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="operations.html">Operations Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="facts.html">Facts Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="connectors.html">Connectors Index</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How pyinfra Works</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deploy-process.html">How pyinfra Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/deploys.html">Packaging Deploys</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/operations.html">Writing Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/facts.html">Writing Facts</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/connectors.html">Writing Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">Using the API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Meta</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="support.html">Help &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Compatibility</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pyinfra-versions">pyinfra Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#control-systems">Control Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#editor-integration">Editor Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#remote-systems">Remote Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-pyinfra-from-2-x-3-x">Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">2.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">3.x</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-pyinfra-from-1-x-2-x">Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">1.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">2.x</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-pyinfra-from-0-x-1-x">Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">0.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1.x</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rename-the-modules-module">Rename the modules module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#naming-operations">Naming operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/reference.html">API Reference</a></li>
</ul>

    </div>
</div>
      </div>
    </div>
    
      <div id="right-column">
        
          
            <div class="admonition important">
                <p class="first admonition-title">Documentation may be out of date!</p>
                <p>You are not reading the most recent version the documentation. <a href="/en/3.x/compatibility.html"><strong>3.x</strong></a> is the latest release version available.</p>
            </div>
          
        
        <div class="document clearer body" role="main">
          
  <section id="compatibility">
<h1>Compatibility<a class="headerlink" href="#compatibility" title="Link to this heading">¶</a></h1>
<p>This page describes the compatibility guarantees pyinfra offers.</p>
<section id="pyinfra-versions">
<h2>pyinfra Versions<a class="headerlink" href="#pyinfra-versions" title="Link to this heading">¶</a></h2>
<p>Where possible pyinfra follows <a class="reference external" href="https://semver.org/">semantic versioning</a> rules. This means no breaking changes between minor versions (<code class="docutils literal notranslate"><span class="pre">1.0</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1.1</span></code>). Such changes are reserved for major version increases only. pyinfra will also generate warnings in CLI mode for any deprecated features due to be removed at the next major release. These are the pyinfra specific semver rules:</p>
<ul class="simple">
<li><p><strong>Major</strong>: breaking changes, warnings will show on latest previous major version</p></li>
<li><p><strong>Minor</strong>: new operations, new APIs, new global arguments, deprecate &amp; add warnings</p></li>
<li><p><strong>Patch</strong>: new operation arguments for existing operations, bug fixes, documentation updates</p></li>
</ul>
</section>
<section id="control-systems">
<h2>Control Systems<a class="headerlink" href="#control-systems" title="Link to this heading">¶</a></h2>
<p>pyinfra works on anywhere that runs Python - Mac, Linux &amp; Windows are all supported.</p>
<section id="editor-integration">
<h3>Editor Integration<a class="headerlink" href="#editor-integration" title="Link to this heading">¶</a></h3>
<section id="pycharm">
<h4>PyCharm<a class="headerlink" href="#pycharm" title="Link to this heading">¶</a></h4>
<p>To debug pyinfra within PyCharm, you need to <a class="reference external" href="https://blog.jetbrains.com/pycharm/2012/08/gevent-debug-support/">explicitly enable support for Gevent</a>.</p>
</section>
</section>
</section>
<section id="remote-systems">
<h2>Remote Systems<a class="headerlink" href="#remote-systems" title="Link to this heading">¶</a></h2>
<p>pyinfra aims to be compatible with all Unix-like operating systems and is currently developed against:</p>
<ul class="simple">
<li><p>Linux distros:</p>
<ul>
<li><p>Ubuntu 18/20</p></li>
<li><p>Debian 9/10</p></li>
<li><p>CentOS 7/8</p></li>
<li><p>Fedora 33</p></li>
<li><p>Alpine 3.8</p></li>
</ul>
</li>
<li><p>BSD flavours:</p>
<ul>
<li><p>OpenBSD 6</p></li>
<li><p>FreeBSD 12</p></li>
<li><p>NetBSD 9</p></li>
<li><p>HardenedBSD 11</p></li>
<li><p>DragonflyBSD 5</p></li>
</ul>
</li>
<li><p>OpenSUSE (leap15 + tumbleweed)</p></li>
<li><p>macOS 10.15 (with <a class="reference internal" href="connectors/local.html"><span class="doc std std-doc"><code class="docutils literal notranslate"><span class="pre">&#64;local</span></code> connector</span></a>)</p></li>
<li><p>Docker (with <a class="reference internal" href="connectors/docker.html"><span class="doc std std-doc"><code class="docutils literal notranslate"><span class="pre">&#64;docker</span></code> connector</span></a>)</p></li>
</ul>
<p>In general, the only requirement on the remote side is shell access. POSIX commands are used where possible for facts and operations, so most of the <code class="docutils literal notranslate"><span class="pre">server</span></code> and <code class="docutils literal notranslate"><span class="pre">files</span></code> operations should work anywhere POSIX.</p>
</section>
<section id="upgrading-pyinfra-from-2-x-3-x">
<h2>Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">2.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">3.x</span></code><a class="headerlink" href="#upgrading-pyinfra-from-2-x-3-x" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">_use_sudo_password</span></code> argument to <code class="docutils literal notranslate"><span class="pre">_sudo_password</span></code></p></li>
<li><p>Deploy decorator must be called:</p></li>
</ul>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old, 2.x decorator</span>
<span class="nd">@deploy</span>
<span class="k">def</span> <span class="nf">mydeploy</span><span class="p">():</span>
    <span class="o">...</span>

<span class="c1"># New, 3.x decorator</span>
<span class="nd">@deploy</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">mydeploy</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">&#64;winrm</span></code> connector, will come back as <a class="reference external" href="https://github.com/pyinfra-dev/pyinfra-windows"><code class="docutils literal notranslate"><span class="pre">pyinfra-windows</span></code></a></p></li>
</ul>
</section>
<section id="upgrading-pyinfra-from-1-x-2-x">
<h2>Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">1.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">2.x</span></code><a class="headerlink" href="#upgrading-pyinfra-from-1-x-2-x" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Python 2.7 (finally!), 3.5 support dropped, Python 3.6 is now the minimum required version</p></li>
<li><p>The “deploy directory” concept has been removed - everything now executes from the current working directory which removes the ambiguous magic v1 used to pick a deploy directory. A new –chdir CLI flag has been added to set the working directory before pyinfra executes</p></li>
</ul>
</section>
<section id="upgrading-pyinfra-from-0-x-1-x">
<h2>Upgrading pyinfra from <code class="docutils literal notranslate"><span class="pre">0.x</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1.x</span></code><a class="headerlink" href="#upgrading-pyinfra-from-0-x-1-x" title="Link to this heading">¶</a></h2>
<p>The move to <code class="docutils literal notranslate"><span class="pre">v1</span></code> removes a lot of old legacy functionality in pyinfra - there will be warnings written to the user in CLI mode if any of these are encountered. The full list can be seen <a class="reference external" href="https://github.com/Fizzadar/pyinfra/blob/master/CHANGELOG.md#v1">on the changelog</a>. In addition to these removals, <code class="docutils literal notranslate"><span class="pre">v1</span></code> brings a few major changes and deprecates the old methods. Again, pyinfra will output warnings when these are encountered, and support will be removed in <code class="docutils literal notranslate"><span class="pre">v2</span></code>.</p>
<section id="rename-the-modules-module">
<h3>Rename the modules module<a class="headerlink" href="#rename-the-modules-module" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">v1</span></code> has moved where operations are imported from to make more sense:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old, 0.x import:</span>
<span class="kn">from</span> <span class="nn">pyinfra.modules</span> <span class="kn">import</span> <span class="n">server</span>

<span class="c1"># New, 1.x import:</span>
<span class="kn">from</span> <span class="nn">pyinfra.operations</span> <span class="kn">import</span> <span class="n">server</span>
</pre></div>
</div>
</section>
<section id="naming-operations">
<h3>Naming operations<a class="headerlink" href="#naming-operations" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">v1</span></code> adds a global <code class="docutils literal notranslate"><span class="pre">name</span></code> argument to all operations. This replaces passing a <code class="docutils literal notranslate"><span class="pre">set</span></code> as the first argument which was confusing:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old, 0.x style:</span>
<span class="n">server</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span>
    <span class="p">{</span><span class="s1">&#39;Execute some shell&#39;</span><span class="p">},</span>
    <span class="n">commands</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;someshell&#39;</span><span class="p">],</span>
<span class="p">)</span>

<span class="c1"># New, 1.x style:</span>
<span class="n">server</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Execute some shell&#39;</span><span class="p">,</span>
    <span class="n">commands</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;someshell&#39;</span><span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


        </div>
          
  <nav class="footer-relations">
    <ul class="pager">
      
        <li class="previous"><a href="contributing.html">
          <span aria-hidden="true">&larr;</span> Contributing
        </a></li>
      
        <li class="next"><a href="performance.html">
          Performance <span aria-hidden="true">&rarr;</span>
        </a></li>
      
    </ul>
  </nav>
    <div class="clearer"></div>
  
      </div>
      <div class="clearfix"></div>
  </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="performance.html" title="Performance"
             >next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Home</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Compatibility</a></li> 
      </ul>
    </div>
<script type="text/javascript" src="_static/js/jquery.min.js"></script>
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>
<script type="text/javascript">
  $("a#toggle-menu").click(function () {
    $("#left-column").slideToggle(100);
  });

  var currentIndexItem = document.querySelector('ul.current ul.current li.current');
  if (currentIndexItem) {
    currentIndexItem.scrollIntoView({'block': 'center'});
  }
</script>
  <div class="footer">
  </div>


  <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
        apiKey: '25a25b5f5310f306641f9ce07dcb06eb',
        appId: 'XXGX6EX4KA',
        indexName: 'pyinfra',
        container: '#docsearch',
        searchParameters: {
          facetFilters: ["version:next", "lang:en"],
        },
        debug: false,
    });
  </script>



  
    <script async defer data-domain="docs.pyinfra.com" src="https://stats.oxygem.com/js/index.js"></script>
  

  </body>
</html>